<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>tettigoniidae Documentation</title>
    
    <!-- Centering CSS -->
    <style>
      .center-screen {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        min-height: 100vh;
      }
    </style>
  </head>
  
  <body>
    <div class="center-screen">
      <h1>tettigoniidae</h1>

      Select your documentation version:

      <div id="dropdownDiv" class="dropdown show">
        <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Branch or Tag
        </a>

        <div id="dropdownMenuOptions" class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <!--
          <a class="dropdown-item" href="/tettigoniidae/main/index.html">main</a>
          <a class="dropdown-item" href="#">develop</a>
          <a class="dropdown-item" href="#">v1.0.0</a>
          <a class="dropdown-item" href="#">v2.0.0</a>
          -->
        </div>
      </div>
      <div id=directories>
      </div>
    </div>
  
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha384-p7RDedFtQzvcp0/3247fDud39nqze/MUmahi6MOWjyr3WKWaMOyqhXuCT1sM9Q+l" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- Dynaically add dropdown options -->
    <script>
      var menuFilled = false;
      
      document.getElementById('dropdownMenuLink').onclick = function() {
        if (! menuFilled) {
          console.log("Filling options");
          
          $( "#directories" ).load( "Directories.txt", function(response, status, xhr) {
            if ( status == "error" ) {
              console.log( "Unable to load directories: " + xhr.status + " " + xhr.statusText );
              alert( "Unable to load directories" );
            } else {
              console.log(document.getElementById('directories'));
              alert( "Load was performed." );
            }
          });
          
          var values = ["main", "develop", "v1.0.0", "v1.2.0"];

          var options = document.getElementById("dropdownMenuOptions");
          for (const val of values) {
            console.log("Adding element " + val);
            var option = document.createElement("a");
            option.class = "dropdown-item";
            option.innerHTML = val;
            option.href = "/tettigoniidae/" + val;
            options.appendChild(option);
            var lineBreak = document.createElement("br");
            options.appendChild(lineBreak);
          }
        }
        menuFilled = true;
      }
    </script>
    
  </body>
</html>
